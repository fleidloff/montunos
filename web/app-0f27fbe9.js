!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},n={},r={},i={}.hasOwnProperty,o=/^\.\.?(\/|$)/,u=function(e,t){for(var n,r=[],i=(o.test(t)?e+"/"+t:t).split("/"),u=0,a=i.length;a>u;u++)n=i[u],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},a=function(e){return e.split("/").slice(0,-1).join("/")},s=function(t){return function(n){var r=u(a(t),n);return e.require(r,t)}},c=function(e,t){var r=null;r=y&&y.createHot(e);var i={id:e,exports:{},hot:r};return n[e]=i,t(i.exports,s(e),i),i.exports},l=function(e){return r[e]?l(r[e]):e},f=function(e,t){return l(u(a(e),t))},d=function(e,r){null==r&&(r="/");var o=l(e);if(i.call(n,o))return n[o].exports;if(i.call(t,o))return c(o,t[o]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};d.alias=function(e,t){r[t]=e};var h=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/,v=function(e){if(h.test(e)){var t=e.replace(h,"");i.call(r,t)&&r[t].replace(h,"")!==t+"/index"||(r[t]=e)}if(p.test(e)){var n=e.replace(p,"");i.call(r,n)||(r[n]=e)}};d.register=d.define=function(e,r){if("object"==typeof e)for(var o in e)i.call(e,o)&&d.register(o,e[o]);else t[e]=r,delete n[e],v(e)},d.list=function(){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};var y=e._hmr&&new e._hmr(f,d,t,n);d._cache=n,d.hmr=y&&y.wrap,d.brunch=!0,e.require=d}}(),function(){window;require.register("js/app.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=t("./montuno/Montuno"),o=r(i);document.addEventListener("DOMContentLoaded",function(){new o["default"]({element:document.getElementById("canvas")}).render()})}),require.register("js/montuno/Montuno.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("../vexflow/Vexflow"),c=r(s),l=t("../vexflow/Notes"),f=r(l),d=t("../shared/Props"),h=r(d),p=t("../vexflow/Scale"),v=r(p),y=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),a(t,[{key:"render",value:function(){var e=new v["default"]({key:"Gm"});console.log(e.get(),e.note("1/4"),e.note("5/4"));var t=(new f["default"]).pushAll({keys:"g/4",duration:4,articulation:"^^"},{keys:"d/4",duration:8,tie:1},{keys:"g/4"},{keys:"f#/4",tie:1},{keys:"d/5",articulation:">"},{keys:"r"},{keys:"d/4"},{keys:"r"},{keys:"fn/4"},{keys:"r"},{keys:"d/4"},{keys:"r"},{keys:"e/4",articulation:"."},{keys:"f/4",articulation:"."},{keys:"f#/4.",articulation:"."});(new c["default"]).set({canvas:this.props.element}).set({key:e.getKey()}).set({notes:t}).render()}}]),t}(h["default"]);e["default"]=y}),require.register("js/shared/GetterAndSetter.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,[{key:"set",value:function(e){return this.props=Object.assign({},this.props,e),this}},{key:"get",value:function(e){return this.props[e]}}]),e}();e["default"]=o}),require.register("js/shared/Props.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function o(e){r(this,o),this.props=e};e["default"]=i}),require.register("js/vexflow/Beams.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.beams=this.beamsFromVoice(t)}return i(e,[{key:"beamsFromVoice",value:function(e){var t=e.time.resolution/e.time.beat_value,n=[],r=0,i=[];return e.tickables.filter(function(e){return e.ignore_ticks===!1}).forEach(function(e){if(r+=e.intrinsicTicks,"r"===e.noteType?(i.length>=2&&n.push(i),i=[]):e.intrinsicTicks<=2096&&(i.length>0&&(e.stem_direction=i[0].stem_direction),i.push(e)),r>=t)for(i.length>=2&&n.push(i),i=[];r>=t;)r-=t}),i.length>=2&&n.push(i),n.map(function(e){return new Vex.Flow.Beam(e)})}},{key:"push",value:function(e){e.length<2||this.beams.push(new Vex.Flow.Beam(e))}},{key:"draw",value:function(e){this.beams.forEach(function(t){t.setContext(e).draw()})}}]),e}();e["default"]=o}),require.register("js/vexflow/Note.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){var n=t.keys,i=t.duration,o=t.articulation;r(this,e);var u="function"==typeof n.push?n:[n],a=new Vex.Flow.StaveNote({keys:u,duration:i,auto_stem:!0});u.forEach(function(e,t){switch(i.indexOf("d")>0&&a.addDotToAll(),!0){case e.indexOf("##")>0:a.addAccidental(t,new Vex.Flow.Accidental("##"));break;case e.indexOf("#")>0:a.addAccidental(t,new Vex.Flow.Accidental("#"));break;case e.indexOf("bb")>0:a.addAccidental(t,new Vex.Flow.Accidental("bb"));break;case e.indexOf("b")>0:a.addAccidental(t,new Vex.Flow.Accidental("b"));break;case e.indexOf("n")>0:a.addAccidental(t,new Vex.Flow.Accidental("n"))}}),this.addArticulation({articulation:o,note:a}),this.note=a}return i(e,[{key:"addArticulation",value:function(e){var t=e.articulation,n=e.position,r=e.note;"undefined"!=typeof t&&(n=this.getPosition({direction:t[1],note:r}),2===t.length&&(t=t[0]),r.addArticulation(0,new Vex.Flow.Articulation("a"+t).setPosition(n)))}},{key:"getPosition",value:function(e){var t=e.direction,n=e.note;switch(t){case"^":return Vex.Flow.Modifier.Position.ABOVE;case"_":return Vex.Flow.Modifier.Position.BELOW;default:return-1===n.stem_direction?Vex.Flow.Modifier.Position.ABOVE:Vex.Flow.Modifier.Position.BELOW}}},{key:"get",value:function(){return this.note}}]),e}();e["default"]=o}),require.register("js/vexflow/Notes.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=t("./Note"),a=r(u),s=t("./Rest"),c=r(s),l=t("./Ties"),f=r(l),d=function(){function e(){i(this,e),this.notes=[],this.ties=new f["default"],this.lastDuration="4"}return o(e,[{key:"get",value:function(){return this.notes.map(function(e){return e.get()})}},{key:"getTies",value:function(){return this.ties.get()}},{key:"drawTies",value:function(e){var t=this,n=e.ctx;this.getTies().forEach(function(e){new Vex.Flow.StaveTie({first_note:t.get()[e.first_note],last_note:t.get()[e.last_note]}).setContext(n).draw()})}},{key:"getWithBars",value:function(e){var t=[],n=0;return this.notes.map(function(e){return e.get()}).forEach(function(r){n+=r.intrinsicTicks,t.push(r),n===e&&(t.push(new Vex.Flow.BarNote([])),n=0)}),t}},{key:"ticks",value:function(){return this.notes.map(function(e){return e.get().intrinsicTicks}).reduce(function(e,t){return e+t},0)}},{key:"pushAll",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return n.forEach(function(t){return e.push(t)}),this}},{key:"push",value:function(e){var t=e.keys,n=e.duration,r=void 0===n?this.lastDuration:n,i=e.tie,o=e.articulation;return r=(""+r).replace(".","d"),this.lastDuration=r,"r"===t?this.notes.push(new c["default"]({duration:r})):this.notes.push(new a["default"]({keys:t,duration:r,articulation:o})),"undefined"!=typeof i&&this.ties.push({tieLength:i,notesLength:this.notes.length}),this}}]),e}();e["default"]=d}),require.register("js/vexflow/Renderer.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=t("./Voice"),a=r(u),s=function(){function e(){i(this,e)}return o(e,[{key:"render",value:function(e){var t=e.canvas,n=e.width,r=e.notes,i=e.time,o=e.clef,u=e.key,s=parseInt(i.split("/")[1],10),c=Vex.Flow.RESOLUTION*parseInt(i.split("/")[0],10)/s,l=new Vex.Flow.Renderer(t,Vex.Flow.Renderer.Backends.CANVAS),f=l.getContext(),d=new Vex.Flow.Stave(10,20,n);d.addClef(o).setEndBarType(Vex.Flow.Barline.type.END).setTimeSignature(i).setKeySignature(u).setText(u||"",Vex.Flow.Modifier.Position.ABOVE,{shift_x:Math.floor(d.getNoteStartX()),shift_y:-10,justification:Vex.Flow.TextNote.Justification.LEFT}),console.log(Math.floor(d.getNoteStartX())),d.setWidth(n-20).setContext(f).draw(),new a["default"]({notes:r,beatValue:s,barEveryNTicks:c}).draw({ctx:f,stave:d})}}]),e}();e["default"]=s}),require.register("js/vexflow/Rest.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){switch(e){case"1":return"d/5";default:return"b/4"}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){var n=t.duration;r(this,e),this.rest=new Vex.Flow.StaveNote({keys:[i(Vex.Flow.sanitizeDuration(n))],duration:n+"r"})}return o(e,[{key:"get",value:function(){return this.rest}}]),e}();e["default"]=u}),require.register("js/vexflow/Scale.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){var n=t.key;r(this,e),this.key=n,this.Music=new Vex.Flow.Music,this.scale=this.createScale(n)}return i(e,[{key:"get",value:function(){return this.scale}},{key:"note",value:function(e){return this.scale[parseInt(e.split("/")[0],10)-1]+"/"+e.split("/")[1]}},{key:"getKey",value:function(){return this.key}},{key:"createScale",value:function(e){for(var t=this.createScaleMap(e),n=e[0].toLowerCase(),r=Vex.Flow.Music.roots.indexOf(n),i=[],o=0;o<Vex.Flow.Music.roots.length;o++)i.push(t[Vex.Flow.Music.roots[(o+r)%Vex.Flow.Music.roots.length]].replace("n",""));return i}},{key:"createScaleMap",value:function(e){return this.Music.createScaleMap(e)}}]),e}();e["default"]=o}),require.register("js/vexflow/Ties.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.ties=[]}return i(e,[{key:"push",value:function(e){var t=e.tieLength,n=e.notesLength;this.ties.push({first_note:n-1,last_note:n-1+t})}},{key:"get",value:function(){return this.ties}}]),e}();e["default"]=o}),require.register("js/vexflow/Vexflow.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("../shared/GetterAndSetter"),c=r(s),l=t("./Renderer"),f=r(l),d={clef:"treble",time:"4/4",width:500},h=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this));return n.set(Object.assign({},d,e)),n}return u(t,e),a(t,[{key:"render",value:function(){this.set({width:this.props.canvas.getAttribute("width")}),(new f["default"]).render(Object.assign({},this.props,{notes:this.props.notes}))}}]),t}(c["default"]);e["default"]=h}),require.register("js/vexflow/Voice.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=t("./Beams"),a=r(u),s=function(){function e(t){var n=t.notes,r=t.beatValue,o=t.barEveryNTicks;i(this,e),this.voice=new Vex.Flow.Voice({num_beats:n.ticks()/Vex.Flow.RESOLUTION*r,beat_value:r,resolution:Vex.Flow.RESOLUTION}),this.voice.addTickables(n.getWithBars(o)),this.beams=new a["default"](this.voice),this.notes=n}return o(e,[{key:"get",value:function(){return this.voice}},{key:"draw",value:function(e){var t=e.ctx,n=e.stave;(new Vex.Flow.Formatter).joinVoices([this.voice]).format([this.voice],n.getWidth()-Math.floor(n.getNoteStartX())+10),this.voice.draw(t,n),this.beams.draw(t),this.notes.drawTies({ctx:t})}}]),e}();e["default"]=s}),require.register("___globals___",function(e,t,n){})}(),require("___globals___");